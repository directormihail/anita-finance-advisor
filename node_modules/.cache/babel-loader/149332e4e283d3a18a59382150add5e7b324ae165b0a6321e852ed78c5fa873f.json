{"ast":null,"code":"import React,{useState,useEffect}from'react';import Sidebar from'./components/Sidebar';import ChatInterface from'./components/ChatInterface';import Settings from'./components/Settings';import FinancePage from'./components/FinancePage';import{simpleAnitaService}from'./simpleAnitaService';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[currentView,setCurrentView]=useState('chat');const[transactions,setTransactions]=useState([]);const[messages,setMessages]=useState([{id:'1',text:\"Hey! Any new expenses or incomes today?\",sender:'anita',timestamp:new Date()}]);const[theme,setTheme]=useState('dark');// Load data on mount\nuseEffect(()=>{const loadData=()=>{// Load theme from localStorage\nconst savedTheme=localStorage.getItem('anita-theme');if(savedTheme){setTheme(savedTheme);}// Load transactions from localStorage\nconst savedTransactions=simpleAnitaService.getTransactionsFromStorage();setTransactions(savedTransactions);console.log(\"\\u2705 Loaded \".concat(savedTransactions.length,\" transactions from localStorage\"));// Load messages from localStorage\nconst savedMessages=simpleAnitaService.getMessagesFromStorage();if(savedMessages.length>0){setMessages(savedMessages);console.log(\"\\u2705 Loaded \".concat(savedMessages.length,\" messages from localStorage\"));}};loadData();},[]);// Apply theme to document\nuseEffect(()=>{document.documentElement.setAttribute('data-theme',theme);localStorage.setItem('anita-theme',theme);},[theme]);const handleTransactionAdd=async transaction=>{const newTransactions=[...transactions,transaction];setTransactions(newTransactions);await simpleAnitaService.saveTransaction(transaction);console.log('✅ Transaction added:',transaction);};const handleMessageAdd=async message=>{const newMessages=[...messages,message];setMessages(newMessages);await simpleAnitaService.saveMessage(message);console.log('✅ Message added:',message.text);};const handleThemeChange=newTheme=>{setTheme(newTheme);};// Calculate financial summary\nconst totalIncome=transactions.filter(t=>t.type==='income').reduce((sum,t)=>sum+t.amount,0);const totalExpenses=transactions.filter(t=>t.type==='expense').reduce((sum,t)=>sum+t.amount,0);const netBalance=totalIncome-totalExpenses;// Get all transactions sorted by date (newest first)\nconst allTransactions=[...transactions].sort((a,b)=>new Date(b.date).getTime()-new Date(a.date).getTime());return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Sidebar,{onViewChange:setCurrentView,currentView:currentView,totalBalance:netBalance,monthlyIncome:totalIncome,monthlyExpenses:totalExpenses,recentTransactions:allTransactions}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[currentView==='chat'&&/*#__PURE__*/_jsx(ChatInterface,{onTransactionAdd:handleTransactionAdd,onMessageAdd:handleMessageAdd,messages:messages}),currentView==='settings'&&/*#__PURE__*/_jsx(Settings,{onThemeChange:handleThemeChange,currentTheme:theme}),currentView==='finance'&&/*#__PURE__*/_jsx(FinancePage,{transactions:transactions})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","Sidebar","ChatInterface","Settings","FinancePage","simpleAnitaService","jsx","_jsx","jsxs","_jsxs","App","currentView","setCurrentView","transactions","setTransactions","messages","setMessages","id","text","sender","timestamp","Date","theme","setTheme","loadData","savedTheme","localStorage","getItem","savedTransactions","getTransactionsFromStorage","console","log","concat","length","savedMessages","getMessagesFromStorage","document","documentElement","setAttribute","setItem","handleTransactionAdd","transaction","newTransactions","saveTransaction","handleMessageAdd","message","newMessages","saveMessage","handleThemeChange","newTheme","totalIncome","filter","t","type","reduce","sum","amount","totalExpenses","netBalance","allTransactions","sort","a","b","date","getTime","className","children","onViewChange","totalBalance","monthlyIncome","monthlyExpenses","recentTransactions","onTransactionAdd","onMessageAdd","onThemeChange","currentTheme"],"sources":["C:/Users/dzm13/anita-finance-advisor/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Sidebar from './components/Sidebar';\r\nimport ChatInterface from './components/ChatInterface';\r\nimport Settings from './components/Settings';\r\nimport FinancePage from './components/FinancePage';\r\nimport { simpleAnitaService, Transaction, Message } from './simpleAnitaService';\r\nimport './App.css';\r\n\r\ntype ViewType = 'chat' | 'settings' | 'finance';\r\ntype Theme = 'dark' | 'light';\r\n\r\nconst App: React.FC = () => {\r\n  const [currentView, setCurrentView] = useState<ViewType>('chat');\r\n  const [transactions, setTransactions] = useState<Transaction[]>([]);\r\n  const [messages, setMessages] = useState<Message[]>([\r\n    {\r\n      id: '1',\r\n      text: \"Hey! Any new expenses or incomes today?\",\r\n      sender: 'anita',\r\n      timestamp: new Date()\r\n    }\r\n  ]);\r\n  const [theme, setTheme] = useState<Theme>('dark');\r\n\r\n  // Load data on mount\r\n  useEffect(() => {\r\n    const loadData = () => {\r\n      // Load theme from localStorage\r\n      const savedTheme = localStorage.getItem('anita-theme') as Theme;\r\n      if (savedTheme) {\r\n        setTheme(savedTheme);\r\n      }\r\n\r\n      // Load transactions from localStorage\r\n      const savedTransactions = simpleAnitaService.getTransactionsFromStorage();\r\n      setTransactions(savedTransactions);\r\n      console.log(`✅ Loaded ${savedTransactions.length} transactions from localStorage`);\r\n\r\n      // Load messages from localStorage\r\n      const savedMessages = simpleAnitaService.getMessagesFromStorage();\r\n      if (savedMessages.length > 0) {\r\n        setMessages(savedMessages);\r\n        console.log(`✅ Loaded ${savedMessages.length} messages from localStorage`);\r\n      }\r\n    };\r\n\r\n    loadData();\r\n  }, []);\r\n\r\n  // Apply theme to document\r\n  useEffect(() => {\r\n    document.documentElement.setAttribute('data-theme', theme);\r\n    localStorage.setItem('anita-theme', theme);\r\n  }, [theme]);\r\n\r\n  const handleTransactionAdd = async (transaction: Transaction) => {\r\n    const newTransactions = [...transactions, transaction];\r\n    setTransactions(newTransactions);\r\n    await simpleAnitaService.saveTransaction(transaction);\r\n    console.log('✅ Transaction added:', transaction);\r\n  };\r\n\r\n  const handleMessageAdd = async (message: Message) => {\r\n    const newMessages = [...messages, message];\r\n    setMessages(newMessages);\r\n    await simpleAnitaService.saveMessage(message);\r\n    console.log('✅ Message added:', message.text);\r\n  };\r\n\r\n  const handleThemeChange = (newTheme: Theme) => {\r\n    setTheme(newTheme);\r\n  };\r\n\r\n  // Calculate financial summary\r\n  const totalIncome = transactions\r\n    .filter(t => t.type === 'income')\r\n    .reduce((sum, t) => sum + t.amount, 0);\r\n  \r\n  const totalExpenses = transactions\r\n    .filter(t => t.type === 'expense')\r\n    .reduce((sum, t) => sum + t.amount, 0);\r\n  \r\n  const netBalance = totalIncome - totalExpenses;\r\n  \r\n  // Get all transactions sorted by date (newest first)\r\n  const allTransactions = [...transactions]\r\n    .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Sidebar \r\n        onViewChange={setCurrentView} \r\n        currentView={currentView}\r\n        totalBalance={netBalance}\r\n        monthlyIncome={totalIncome}\r\n        monthlyExpenses={totalExpenses}\r\n        recentTransactions={allTransactions}\r\n      />\r\n      <div className=\"main-content\">\r\n        {currentView === 'chat' && (\r\n          <ChatInterface \r\n            onTransactionAdd={handleTransactionAdd} \r\n            onMessageAdd={handleMessageAdd} \r\n            messages={messages}\r\n          />\r\n        )}\r\n        {currentView === 'settings' && <Settings onThemeChange={handleThemeChange} currentTheme={theme} />}\r\n        {currentView === 'finance' && <FinancePage transactions={transactions} />}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}