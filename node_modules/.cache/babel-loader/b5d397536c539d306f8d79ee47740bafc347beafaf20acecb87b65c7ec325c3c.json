{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dzm13\\\\anita-finance-advisor\\\\src\\\\components\\\\TransactionViewer.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { transactionsApi } from '../supabase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TransactionViewer = () => {\n  _s();\n  const [transactions, setTransactions] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const loadTransactions = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const {\n        data,\n        error\n      } = await transactionsApi.fetchTransactions();\n      if (error) {\n        setError(`Error: ${JSON.stringify(error)}`);\n        console.error('Error fetching transactions:', error);\n      } else {\n        setTransactions(data || []);\n        console.log('Loaded transactions:', data);\n      }\n    } catch (err) {\n      setError(`Connection error: ${err}`);\n      console.error('Connection error:', err);\n    }\n    setLoading(false);\n  };\n  useEffect(() => {\n    loadTransactions();\n\n    // Refresh every 5 seconds to show real-time updates\n    const interval = setInterval(loadTransactions, 5000);\n    return () => clearInterval(interval);\n  }, []);\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleString();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      border: '1px solid #ccc',\n      margin: '20px',\n      borderRadius: '8px',\n      backgroundColor: '#f9f9f9'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '15px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Real-time Transactions from Supabase\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: loadTransactions,\n        disabled: loading,\n        style: {\n          padding: '8px 16px',\n          backgroundColor: '#007bff',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px'\n        },\n        children: loading ? 'Loading...' : 'Refresh'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red',\n        marginBottom: '10px'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: '14px',\n        marginBottom: '10px'\n      },\n      children: [\"Total transactions: \", transactions.length]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxHeight: '300px',\n        overflowY: 'auto'\n      },\n      children: transactions.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          color: '#666',\n          padding: '20px'\n        },\n        children: loading ? 'Loading transactions...' : 'No transactions found'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this) : transactions.map(transaction => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '10px',\n          margin: '5px 0',\n          backgroundColor: 'white',\n          borderRadius: '4px',\n          border: '1px solid #ddd'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              style: {\n                color: transaction.type === 'income' ? 'green' : 'red'\n              },\n              children: [transaction.type === 'income' ? '+' : '-', \"$\", transaction.amount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                marginLeft: '10px'\n              },\n              children: transaction.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '12px',\n              color: '#666'\n            },\n            children: transaction.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '12px',\n            color: '#666',\n            marginTop: '5px'\n          },\n          children: formatDate(transaction.created_at)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 15\n        }, this)]\n      }, transaction.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(TransactionViewer, \"shWiYM6aQM19fqTBIidyIZqHn+g=\");\n_c = TransactionViewer;\nexport default TransactionViewer;\nvar _c;\n$RefreshReg$(_c, \"TransactionViewer\");","map":{"version":3,"names":["React","useState","useEffect","transactionsApi","jsxDEV","_jsxDEV","TransactionViewer","_s","transactions","setTransactions","loading","setLoading","error","setError","loadTransactions","data","fetchTransactions","JSON","stringify","console","log","err","interval","setInterval","clearInterval","formatDate","dateString","Date","toLocaleString","style","padding","border","margin","borderRadius","backgroundColor","children","display","justifyContent","alignItems","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","color","fontSize","length","maxHeight","overflowY","textAlign","map","transaction","type","amount","marginLeft","description","category","marginTop","created_at","id","_c","$RefreshReg$"],"sources":["C:/Users/dzm13/anita-finance-advisor/src/components/TransactionViewer.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { transactionsApi } from '../supabase';\r\n\r\ninterface Transaction {\r\n  id: number;\r\n  type: 'income' | 'expense';\r\n  amount: number;\r\n  category: string;\r\n  description: string;\r\n  date: string;\r\n  created_at: string;\r\n}\r\n\r\nconst TransactionViewer: React.FC = () => {\r\n  const [transactions, setTransactions] = useState<Transaction[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const loadTransactions = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const { data, error } = await transactionsApi.fetchTransactions();\r\n      \r\n      if (error) {\r\n        setError(`Error: ${JSON.stringify(error)}`);\r\n        console.error('Error fetching transactions:', error);\r\n      } else {\r\n        setTransactions(data || []);\r\n        console.log('Loaded transactions:', data);\r\n      }\r\n    } catch (err) {\r\n      setError(`Connection error: ${err}`);\r\n      console.error('Connection error:', err);\r\n    }\r\n    \r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadTransactions();\r\n    \r\n    // Refresh every 5 seconds to show real-time updates\r\n    const interval = setInterval(loadTransactions, 5000);\r\n    \r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleString();\r\n  };\r\n\r\n  return (\r\n    <div style={{ \r\n      padding: '20px', \r\n      border: '1px solid #ccc', \r\n      margin: '20px', \r\n      borderRadius: '8px',\r\n      backgroundColor: '#f9f9f9'\r\n    }}>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '15px' }}>\r\n        <h3>Real-time Transactions from Supabase</h3>\r\n        <button \r\n          onClick={loadTransactions} \r\n          disabled={loading}\r\n          style={{ padding: '8px 16px', backgroundColor: '#007bff', color: 'white', border: 'none', borderRadius: '4px' }}\r\n        >\r\n          {loading ? 'Loading...' : 'Refresh'}\r\n        </button>\r\n      </div>\r\n      \r\n      {error && (\r\n        <div style={{ color: 'red', marginBottom: '10px' }}>\r\n          {error}\r\n        </div>\r\n      )}\r\n      \r\n      <div style={{ fontSize: '14px', marginBottom: '10px' }}>\r\n        Total transactions: {transactions.length}\r\n      </div>\r\n      \r\n      <div style={{ maxHeight: '300px', overflowY: 'auto' }}>\r\n        {transactions.length === 0 ? (\r\n          <div style={{ textAlign: 'center', color: '#666', padding: '20px' }}>\r\n            {loading ? 'Loading transactions...' : 'No transactions found'}\r\n          </div>\r\n        ) : (\r\n          transactions.map((transaction) => (\r\n            <div \r\n              key={transaction.id} \r\n              style={{ \r\n                padding: '10px', \r\n                margin: '5px 0', \r\n                backgroundColor: 'white', \r\n                borderRadius: '4px',\r\n                border: '1px solid #ddd'\r\n              }}\r\n            >\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                <div>\r\n                  <strong style={{ color: transaction.type === 'income' ? 'green' : 'red' }}>\r\n                    {transaction.type === 'income' ? '+' : '-'}${transaction.amount}\r\n                  </strong>\r\n                  <span style={{ marginLeft: '10px' }}>{transaction.description}</span>\r\n                </div>\r\n                <div style={{ fontSize: '12px', color: '#666' }}>\r\n                  {transaction.category}\r\n                </div>\r\n              </div>\r\n              <div style={{ fontSize: '12px', color: '#666', marginTop: '5px' }}>\r\n                {formatDate(transaction.created_at)}\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionViewer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}